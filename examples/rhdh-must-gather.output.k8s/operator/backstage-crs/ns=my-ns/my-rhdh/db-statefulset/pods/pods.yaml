apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2025-10-23T09:44:56Z"
    generateName: backstage-psql-my-rhdh-
    labels:
      apps.kubernetes.io/pod-index: "0"
      controller-revision-hash: backstage-psql-my-rhdh-784b8f4f75
      rhdh.redhat.com/app: backstage-psql-my-rhdh
      statefulset.kubernetes.io/pod-name: backstage-psql-my-rhdh-0
    name: backstage-psql-my-rhdh-0
    namespace: my-ns
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: StatefulSet
      name: backstage-psql-my-rhdh
      uid: dbdfad67-4e03-4ab3-97e1-1d67e7e6f4bd
    resourceVersion: "1551"
    uid: a88e0d96-5c2e-449a-9ae1-8970034636b1
  spec:
    automountServiceAccountToken: false
    containers:
    - env:
      - name: POSTGRESQL_PORT_NUMBER
        value: "5432"
      - name: POSTGRESQL_VOLUME_DIR
        value: /var/lib/pgsql/data
      - name: PGDATA
        value: /var/lib/pgsql/data/userdata
      envFrom:
      - secretRef:
          name: backstage-psql-secret-my-rhdh
      image: quay.io/fedora/postgresql-15:latest
      imagePullPolicy: IfNotPresent
      livenessProbe:
        exec:
          command:
          - /bin/sh
          - -c
          - exec pg_isready -U ${POSTGRES_USER} -h 127.0.0.1 -p 5432
        failureThreshold: 6
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: postgresql
      ports:
      - containerPort: 5432
        name: tcp-postgresql
        protocol: TCP
      readinessProbe:
        exec:
          command:
          - /bin/sh
          - -c
          - -e
          - |
            exec pg_isready -U ${POSTGRES_USER} -h 127.0.0.1 -p 5432
        failureThreshold: 6
        initialDelaySeconds: 5
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources:
        limits:
          cpu: 250m
          ephemeral-storage: 20Mi
          memory: 1Gi
        requests:
          cpu: 250m
          ephemeral-storage: 20Mi
          memory: 256Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        runAsGroup: 0
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /dev/shm
        name: dshm
      - mountPath: /var/lib/pgsql/data
        name: data
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: backstage-psql-my-rhdh-0
    nodeName: k3d-local-1-agent-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1001
    serviceAccount: default
    serviceAccountName: default
    subdomain: backstage-psql-my-rhdh
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: data
      persistentVolumeClaim:
        claimName: data-backstage-psql-my-rhdh-0
    - emptyDir:
        medium: Memory
      name: dshm
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-23T09:45:15Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-23T09:45:02Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-23T09:45:22Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-23T09:45:22Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-23T09:45:02Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://d37d89d048c70d5d27c447e3dae73af684abca7b941fb42b7c376d010476f54c
      image: quay.io/fedora/postgresql-15:latest
      imageID: quay.io/fedora/postgresql-15@sha256:55f43bfb492e4e08bd420074ef05747aebe1218b56f00b3a103d2f430120d0a4
      lastState: {}
      name: postgresql
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-23T09:45:15Z"
      volumeMounts:
      - mountPath: /dev/shm
        name: dshm
      - mountPath: /var/lib/pgsql/data
        name: data
    hostIP: 172.18.0.3
    hostIPs:
    - ip: 172.18.0.3
    phase: Running
    podIP: 10.42.1.7
    podIPs:
    - ip: 10.42.1.7
    qosClass: Burstable
    startTime: "2025-10-23T09:45:02Z"
kind: List
metadata:
  resourceVersion: ""
